(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"8gJq":function(t,e){"use strict";e.a={error:"error__20fDc",active:"active__12abY"}},cBvx:function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e,n,r,c,o,i){try{var a=t[o](i),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,c)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,c){function o(t){i(l,r,c,o,a,"next",t)}function a(t){i(l,r,c,o,a,"throw",t)}var l=t.apply(e,n);o(void 0)}))}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,c,o=[],i=!0,a=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){a=!0,c=t}finally{try{i||null==n.return||n.return()}finally{if(a)throw c}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.r(e);var u=n("hosL"),h=n("QRet"),p=n("Y3FI"),d=n("lwyx"),f={body:"body__3rUHO",hidden:"hidden__2huFE",color:"color__2nT1M",error:"error__1rZSE","is-active":"is-active__2p0Kf",input:"input__pafRI",actions:"actions__2KxCW",footer:"footer__fYGgV",disabled:"disabled__3XdvZ",loading:"loading__j9dqV",label:"label__1Xt9X",ball_pulse:"ball_pulse__JSjgU",icon:"icon__atcGB",error_icon:"error_icon__1u2CB",scale:"scale__3HKmH"};e.default=function(){var t=l(Object(h.c)(!1),2),e=t[0],n=t[1],r=l(Object(h.c)(!1),2),o=r[0],i=r[1],s=l(Object(h.c)({error:!1,msg:""}),2),b=s[0],m=s[1];Object(h.b)((function(){m({error:!1,msg:""}),window.chrome.tabs.onUpdated.addListener((function(t,e){if(null!=e.url){if(/admin\/menus\/[0-9]+(\?.*)?$/.test(e.url)||/store\/.*\/menus\/[0-9]+(\?.*)?$/.test(e.url))return void Object(p.route)("/menu");if(/admin\/menus\/?(\?.*)?$/.test(e.url)||/store\/.*\/menus\/?(\?.*)?$/.test(e.url))return void Object(p.route)("/menus")}}))}),[]);var y=function(){var t=a((function*(){return i(!0),O().then(g).then((function(t){window.chrome.tabs.sendMessage(t.id,{type:"getHostData"},function(){var t=a((function*(t){try{var e=t.result,n=e.csrfToken,r=e.appId,c=e.url,o=/https?:\/\/(.*\.myshopify.com)\/.*\/menus\/([0-9]+)\/?/;c.includes("admin.shopify.com")&&(o=/https?:\/\/(admin.shopify.com)\/store\/.*\/menus\/([0-9]+)\/?/);var a=l(o.exec(c),2)[1],s=(yield window.chrome.cookies.getAll({domain:a})).map((function(t){return"".concat(t.name,"=").concat(t.value)})).join("; "),u=yield fetch("https://meraki-apps.com/api/2024-04/export",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({csrfToken:n,appId:r,url:c,cookie:s})}).then((function(t){return t.json()}));if(u.error||!u.success)throw Error("Operation Failed!");var h=u.data,p=h.handle||"menu_data",d="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(h)),f=document.createElement("a");f.setAttribute("href",d),f.setAttribute("download","".concat(p,".json")),f.click(),i(!1)}catch(t){console.log("1. Caught Error",t),i(!1),v()}}));return function(e){return t.apply(this,arguments)}}())})).catch((function(t){console.log("2. Caught Error",t),i(!1),v()}))}));return function(){return t.apply(this,arguments)}}(),v=function(){m({error:!0,msg:"Operation failed! please refresh page and try again."}),setTimeout((function(){m({error:!1,msg:""})}),2e4)},g=function(){var t=a((function*(){return l(yield window.chrome.tabs.query({active:!0,currentWindow:!0}),1)[0]}));return function(){return t.apply(this,arguments)}}(),O=function(){var t=a((function*(){var t=l(yield window.chrome.tabs.query({active:!0,currentWindow:!0}),1);window.chrome.scripting.executeScript({target:{tabId:t[0].id},files:["contentScript.js"]})}));return function(){return t.apply(this,arguments)}}();return Object(u.h)("div",{class:f.body},Object(u.h)("h2",null,"Shopify Navigation Tool"),Object(u.h)("h5",null,"An absolute time saver"),Object(u.h)("h4",{class:f.bottom},"Actions"),Object(u.h)("div",{class:"".concat(f.actions," ").concat(e||o?f.disabled:"")},Object(u.h)("button",{class:"".concat(e?f.loading:""),onClick:function(){return n(!0),O().then(g).then((function(t){window.chrome.tabs.sendMessage(t.id,{type:"getHostData"},function(){var e=a((function*(e){try{var r=e.result.url,o=/https?:\/\/(.*\.myshopify.com)\/.*\/menus\/([0-9]+)\/?/;r.includes("admin.shopify.com")&&(o=/https?:\/\/(admin.shopify.com)\/store\/.*\/menus\/([0-9]+)\/?/);var i=l(o.exec(r),2)[1],a=(yield window.chrome.cookies.getAll({domain:i})).map((function(t){return"".concat(t.name,"=").concat(t.value)})).join("; "),s=yield fetch("https://meraki-apps.com/duplicate",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c(c({},e.result),{},{cookie:a}))}).then((function(t){return t.json()}));if(s.error||!s.success)throw Error("Operation Failed!");window.chrome.tabs.sendMessage(t.id,{type:"openNewMenu",data:s.data}),n(!1)}catch(t){console.log("1. Caught Error",t),n(!1),v()}}));return function(t){return e.apply(this,arguments)}}())})).catch((function(t){console.log("2. Caught Error",t),n(!1),v()}))}},Object(u.h)("svg",{height:"16px",width:"16px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 65 65","enable-background":"new 0 0 65 65"},Object(u.h)("title",null,"Duplicate"),Object(u.h)("g",null,Object(u.h)("path",{d:"M61.3,4.9H46.1V2.7c0-1.6-1.3-2.9-2.9-2.9H4.7c-2.2,0-4,1.8-4,4v53.4c0,1.6,1.3,2.9,2.9,2.9h15.3v2.3   c0,1.6,1.3,2.9,2.9,2.9h29.9l12.5-12.5V7.8C64.3,6.2,62.9,4.9,61.3,4.9z M20.4,62.3V48.5h-1.5v10H3.7c-0.8,0-1.4-0.6-1.4-1.4V3.7   c0-1.4,1.1-2.5,2.5-2.5h38.4c0.8,0,1.4,0.6,1.4,1.4v2.3H22.9c-2.2,0-4,1.8-4,4V44h1.5V8.9c0-1.4,1.1-2.5,2.5-2.5h38.4   c0.8,0,1.4,0.6,1.4,1.4v43.8h-8.1c-2.2,0-4,1.8-4,4v8.1H21.8C21.1,63.8,20.4,63.1,20.4,62.3z M61.7,53.2l-9.5,9.5v-7   c0-1.4,1.1-2.5,2.5-2.5H61.7z"}),Object(u.h)("rect",{x:"25.7",y:"27.7",width:"25.8",height:"1.5"}),Object(u.h)("rect",{x:"25.7",y:"34.8",width:"20.9",height:"1.5"}),Object(u.h)("rect",{x:"25.7",y:"14.1",width:"31.8",height:"1.5"}),Object(u.h)("rect",{x:"25.7",y:"20.9",width:"31.8",height:"1.5"}),Object(u.h)("path",{d:"M29.5,42.3l3.3,3.3h-13c-5.1,0-9.3-4.1-9.3-9.3V25.4H9v10.9c0,5.9,4.8,10.8,10.8,10.8h13l-3.3,3.3l1.1,1.1l5.1-5.1   l-5.1-5.1L29.5,42.3z"}))),Object(u.h)("span",{class:f.label},"Duplicate"),Object(u.h)("span",{class:f.ball_pulse},Object(u.h)("span",null),Object(u.h)("span",null),Object(u.h)("span",null))),Object(u.h)("button",{class:"".concat(o?f.loading:""),onClick:y},Object(u.h)("svg",{height:"16px",width:"16px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",x:"0px",y:"0px"},Object(u.h)("title",null,"Export"),Object(u.h)("g",null,Object(u.h)("path",{d:"M9.255,22.718a1.5,1.5,0,0,1,0-2.121l7.428-7.429a1.5,1.5,0,0,1,.493-.327l.022-.007a1.454,1.454,0,0,1,1.095,0l.022.007a1.486,1.486,0,0,1,.493.327L26.236,20.6a1.5,1.5,0,0,1-2.121,2.121l-4.869-4.87v4.78A14.893,14.893,0,0,0,34.122,37.505H42.78a1.5,1.5,0,0,1,0,3H34.122A17.9,17.9,0,0,1,16.246,22.628v-4.78l-4.87,4.87a1.5,1.5,0,0,1-2.121,0Zm37.43-9.991H31.35a1.5,1.5,0,0,0,0,3H46.685a5.506,5.506,0,0,1,5.5,5.5V42.773a5.506,5.506,0,0,1-5.5,5.5H17.315a5.506,5.506,0,0,1-5.5-5.5V31.16a1.5,1.5,0,0,0-3,0V42.773a8.51,8.51,0,0,0,8.5,8.5h29.37a8.51,8.51,0,0,0,8.5-8.5V21.227A8.51,8.51,0,0,0,46.685,12.727Z"}))),Object(u.h)("span",{class:f.label},"Export"),Object(u.h)("span",{class:f.ball_pulse},Object(u.h)("span",null),Object(u.h)("span",null),Object(u.h)("span",null)))),Object(u.h)(d.a,{result:b}))}},lwyx:function(t,e,n){"use strict";(function(t){function r(e){var n=e.result;return t("div",{class:"".concat(c.a.error," ").concat(n.error?c.a.active:"")},t("svg",{height:"16",width:"16",fill:"#F00",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100"},t("switch",null,t("g",null,t("path",{d:"M24.6,64.8c0,0.5,0.2,1.1,0.6,1.4l8.6,8.6c0.8,0.8,2.1,0.8,2.9,0L50,61.4l13.4,13.4c0.4,0.4,0.9,0.6,1.4,0.6     c0.5,0,1-0.2,1.4-0.6l8.6-8.6c0.4-0.4,0.6-0.9,0.6-1.4s-0.2-1.1-0.6-1.4L61.4,50l13.4-13.4c0.4-0.4,0.6-0.9,0.6-1.4     s-0.2-1.1-0.6-1.4l-8.6-8.6c-0.8-0.8-2.1-0.8-2.9,0L50,38.6L36.6,25.2c-0.8-0.8-2.1-0.8-2.9,0l-8.6,8.6c-0.4,0.4-0.6,0.9-0.6,1.4     s0.2,1.1,0.6,1.4L38.6,50L25.2,63.4C24.8,63.8,24.6,64.3,24.6,64.8z M42.9,51.4c0.8-0.8,0.8-2.1,0-2.9L29.5,35.2l5.7-5.7     l13.4,13.4c0.8,0.8,2.1,0.8,2.9,0l13.4-13.4l5.7,5.7L57.1,48.6c-0.8,0.8-0.8,2.1,0,2.9l13.4,13.4l-5.7,5.7L51.4,57.1     c-0.4-0.4-0.9-0.6-1.4-0.6s-1.1,0.2-1.4,0.6L35.2,70.5l-5.7-5.7L42.9,51.4z"}),t("path",{d:"M95.5,2.5h-91c-1.1,0-2,0.9-2,2v91c0,1.1,0.9,2,2,2h91c1.1,0,2-0.9,2-2v-91C97.5,3.4,96.6,2.5,95.5,2.5z M93.5,93.5H6.5     V6.5h86.9V93.5z"})))),t("p",null,n.msg))}n.d(e,"a",(function(){return r}));var c=n("8gJq")}).call(this,n("hosL").h)}}]);
//# sourceMappingURL=route-menu.chunk.9d97d.js.map